#python 
import requests, json, time, os
from datetime import datetime, timedelta
from bs4 import BeautifulSoup
arrcompleted = {'winterxpro studs 77': 'https://roadmarch.ru/i/tyre/roadmarch-winterxpro-studs-77-max.webp', 'snowrover 966': 'https://roadmarch.ru/i/tyre/roadmarch-snowrover-966-max.webp', 'snowrover 868': 'https://roadmarch.ru/i/tyre/roadmarch-snowrover-868-max.webp', 'winterxpro studs 69': 'https://roadmarch.ru/i/tyre/roadmarch-winterxpro-studs-69-max.webp', 'snowrover 989': 'https://roadmarch.ru/i/tyre/roadmarch-snowrover-989-max.webp', 'winterxpro 888': 'https://roadmarch.ru/i/tyre/roadmarch-winterxpro-888-max.webp', 'winterxpro studs 68': 'https://roadmarch.ru/i/tyre/roadmarch-winterxpro-studs-68-max.webp', 'winterxpro 999': 'https://roadmarch.ru/i/tyre/roadmarch-winterxpro-999-max.webp', 'winterxpro studs 69 (нешип)': 'https://roadmarch.ru/i/tyre/roadmarch-winterxpro-studs-69-neship-max.webp', 'loading pro': 'https://roadmarch.ru/i/tyre/roadmarch-loading-pro-max.webp', 'prime a/s': 'https://roadmarch.ru/i/tyre/roadmarch-prime-a-s-max.webp', 'van a/s': 'https://roadmarch.ru/i/tyre/roadmarch-van-a-s-max.webp', 'prime uhp 07': 'https://roadmarch.ru/i/tyre/roadmarch-prime-uhp-07-max.webp', 'primemaster m/t i': 'https://roadmarch.ru/i/tyre/roadmarch-primemaster-m-t-i-max.webp', 'l-zeal 56': 'https://roadmarch.ru/i/tyre/roadmarch-l-zeal-56-max.webp', 'primestar 66': 'https://roadmarch.ru/i/tyre/roadmarch-primestar-66-max.webp', 'primevan 9': 'https://roadmarch.ru/i/tyre/roadmarch-primevan-9-max.webp', 'ecopro 99': 'https://roadmarch.ru/i/tyre/roadmarch-ecopro-99-max.webp', 'prime uhp 08': 'https://roadmarch.ru/i/tyre/roadmarch-prime-uhp-08-max.webp', 'primemaster m/t ii': 'https://roadmarch.ru/i/tyre/roadmarch-primemaster-m-t-ii-max.webp', 'primemarch h/t 77': 'https://roadmarch.ru/i/tyre/roadmarch-primemarch-h-t-77-max.webp', 'glorytour 52': 'https://roadmarch.ru/i/tyre/roadmarch-glorytour-52-max.webp', 'primemarch h/t 79': 'https://roadmarch.ru/i/tyre/roadmarch-primemarch-h-t-79-max.webp', 'primevan 36': 'https://roadmarch.ru/i/tyre/roadmarch-primevan-36-max.webp', 'primemax a/t ii': 'https://roadmarch.ru/i/tyre/roadmarch-primemax-a-t-ii-max.webp', 'primevan 28': 'https://roadmarch.ru/i/tyre/roadmarch-primevan-28-max.webp', 'primemax a/t i': 'https://roadmarch.ru/i/tyre/roadmarch-primemax-a-t-i-max.webp', 'bw668': 'https://www.bearwaytire.com/Uploads/65f8f491a4b49.jpg', 'bw688': 'https://www.bearwaytire.com/Uploads/65f91a45e7dcf.jpg', 'bw118': 'https://www.bearwaytire.com/Uploads/65f91be2665e7.jpg', 'bw777': 'https://www.bearwaytire.com/Uploads/65f93cca5b956.jpg', 'bw998': 'https://www.bearwaytire.com/Uploads/65f93de35dcc7.jpg', 'bw3300': 'https://www.bearwaytire.com/Uploads/65f93eeb3e923.jpg', 'cavalry': 'https://www.bearwaytire.com/Uploads/65f94072bd21d.jpg', 'm866': 'https://www.bearwaytire.com/Uploads/65f9428ad0563.jpg', 'rt05': 'https://www.sdduruntyre.com/storage/images/20230514/bcabdca22bef8f71f6812d57efc9699f.jpg', 'hd918': 'https://www.sdduruntyre.com/storage/images/20220721/99f34d1701fa9395b4d60678b71ae64d.jpg', 'rw501': 'https://www.sdduruntyre.com/storage/images/20220816/5e6ed7a780f80f3b5cee81790aef8ff4.jpg', 'ts880': 'https://www.sdduruntyre.com/storage/images/20220721/f50679e2e2c77c0d8ca4ae740dea55c1.jpg', 'stc1': 'https://www.sdduruntyre.com/storage/images/20220721/72a5de730e1c7f1035edbd4bce15c4fe.jpg', 'd208': 'https://www.sdduruntyre.com/storage/images/20220721/d27a0bff5fbae23d75eeb4bef448ad7a.jpg', 'c232-x': 'https://www.sdduruntyre.com/storage/images/20220721/d364ebc3b0d0cf087a592b0cc0d5ba7e.jpg', 'c212': 'https://www.sdduruntyre.com/storage/images/20220721/edfe72e6a7a40a5d24a67fb1f5989ba7.jpg', 'd108': 'https://www.sdduruntyre.com/storage/images/20220721/85ed41dc14b3eaa776e8c51d96b8946b.jpg', 'k334': 'https://www.sdduruntyre.com/storage/images/20220721/7e5a33a76c3a5a579faede15afba2e39.jpg', 'k325': 'https://www.sdduruntyre.com/storage/images/20220721/06c6e8ee882c9cb76779010a1ab49b86.jpg', 'k324': 'https://www.sdduruntyre.com/storage/images/20220721/7cd38aa12a6d2eff3e2fc36862eb618d.jpg', 'rt02': 'https://www.sdduruntyre.com/storage/images/20220721/df2e2c13165c5fdb9574343cd1187e96.jpg', 'k313': 'https://www.sdduruntyre.com/storage/images/20220721/b70effb7aaf033e93c5b7044e1709e6c.jpg', 'duelea h/t': 'https://www.sdduruntyre.com/storage/images/20220721/8a8bf61e3fbc642d42ae86d2ec94a095.jpg', 'rh01': 'https://www.sdduruntyre.com/storage/images/20220721/eb825eb74e8476f4b8caa29f10d98f64.jpg', 'a2000': 'https://www.sdduruntyre.com/storage/images/20220721/b3902eaad64ab68c2b750543b26f0a45.jpg', 'l919': 'https://www.sdduruntyre.com/storage/images/20220721/5adba18a632421b21c0a56a5d23a8e01.jpg', 'b717': 'https://www.sdduruntyre.com/storage/images/20220721/6765913a5a12383ebd81207698becdf5.jpg', 't90a': 'https://www.sdduruntyre.com/storage/images/20220721/826ac98a4391f02a5d209df0e2239921.jpg', 'hg918': 'https://www.sdduruntyre.com/storage/images/20220721/33cabc145819f1e93b024dde485d42ae.jpg', 'm626': 'https://www.sdduruntyre.com/storage/images/20220721/d927ac9de301f4da86c3a428b2e81799.jpg', 'm636': 'https://www.sdduruntyre.com/storage/images/20220721/2ac38970bb0700cda201de3b7a980d53.jpg', 'm636 run flat tire': 'https://www.sdduruntyre.com/storage/images/20220721/2ac38970bb0700cda201de3b7a980d53.jpg', 'ru06 run flat tire': 'https://www.sdduruntyre.com/storage/images/20220720/a46401d2ad8a4694f58317e3b2d97c6f.jpg', 'ru06': 'https://www.sdduruntyre.com/storage/images/20220720/5c022457f3ceeea59664cd6c7b01fe72.jpg', 'sf888': 'http://sunfull-tire.com/details_img/sf-888_img/tireall_sf888.png', 'hp881': 'http://sunfull-tire.com/details_img/hp881_img/HP881.png', 'sf688': 'http://sunfull-tire.com/details_img/sf-688_img/tireall_sf688.png', 'montpro': 'http://sunfull-tire.com/details_img/mont-pro_img/tireall_mont-pro.png', 'sf05': 'http://sunfull-tire.com/details_img/sf-05_img/tireall_sf05.png', 'sf983as': 'http://sunfull-tire.com/details_img/sf-983as_img/tiirell_sf983as.png', 'sf08as': 'http://sunfull-tire.com/details_img/sf-08as_img/tireall_sf08as.png', 'sf982': 'http://sunfull-tire.com/details_img/sf-982_img/tireall_sf982.png', 'a106': 'https://threeatires.com/wp-content/uploads/2022/03/A106.jpg', 'a107': 'https://threeatires.com/wp-content/uploads/2022/03/A107.jpg', 'a108': 'https://threeatires.com/wp-content/uploads/2022/03/A108.jpg', 'a128': 'https://threeatires.com/wp-content/uploads/2022/03/A128.jpg', 'a158': 'https://threeatires.com/wp-content/uploads/2022/03/A158.jpg', 'a159': 'https://threeatires.com/wp-content/uploads/2022/12/A159-1.jpg', 'a165': 'https://threeatires.com/wp-content/uploads/2022/03/A165.jpg', 'a166/t166': 'https://threeatires.com/wp-content/uploads/2022/03/A166.jpg', 'a167': 'https://threeatires.com/wp-content/uploads/2022/12/A167.jpg', 'a168/t168': 'https://threeatires.com/wp-content/uploads/2022/03/A168T168.jpg', 'a169': 'https://threeatires.com/wp-content/uploads/2022/12/A169.jpg', 'a188+': 'https://threeatires.com/wp-content/uploads/2022/12/A188.jpg', 'a198': 'https://threeatires.com/wp-content/uploads/2022/12/A198.jpg', 'a199': 'https://threeatires.com/wp-content/uploads/2022/12/A199.jpg', 'a299': 'https://threeatires.com/wp-content/uploads/2022/12/A299.jpg', 'a389': 'https://threeatires.com/wp-content/uploads/2022/12/A389.jpg', 'a398': 'https://threeatires.com/wp-content/uploads/2022/12/A398.jpg', 'a399': 'https://threeatires.com/wp-content/uploads/2022/12/A399.jpg', 'a555': 'https://threeatires.com/wp-content/uploads/2022/03/A555.jpg', 'a666': 'https://threeatires.com/wp-content/uploads/2022/12/A666.jpg', 'a689': 'https://threeatires.com/wp-content/uploads/2022/12/A199.jpg', 'a699': 'https://threeatires.com/wp-content/uploads/2022/12/A699.jpg', 'a709': 'https://threeatires.com/wp-content/uploads/2022/03/A709.jpg', 'a777': 'https://threeatires.com/wp-content/uploads/2022/03/A777.jpg', 'a888': 'https://threeatires.com/wp-content/uploads/2022/12/A888.jpg', 'a999': 'https://threeatires.com/wp-content/uploads/2022/12/A999.jpg', 'challenger mt': 'https://threeatires.com/wp-content/uploads/2022/09/CHALLENGER-MT.jpg', 'commercial effivan': 'https://threeatires.com/wp-content/uploads/2022/09/Effivan.png', 'crosslander at': 'https://threeatires.com/wp-content/uploads/2022/09/Crosslander-AT.jpeg', 'd767': 'https://threeatires.com/wp-content/uploads/2022/12/D767.jpg', 'd801(america)': 'https://threeatires.com/wp-content/uploads/2022/03/D801America.jpg', 'd802(america)': 'https://threeatires.com/wp-content/uploads/2022/03/D802America.jpg', 'd901': 'https://threeatires.com/wp-content/uploads/2022/12/D901.jpg', 'ecosnow': 'https://threeatires.com/wp-content/uploads/2022/09/ECOSNOW-2.jpg', 'ecosnow 4×4': 'https://threeatires.com/wp-content/uploads/2022/09/ECOSNOW-4×4.jpg', 'effitrac': 'https://threeatires.com/wp-content/uploads/2022/09/EffiTrac-2.jpg', 'freeze s1': 'https://threeatires.com/wp-content/uploads/2022/09/FREEZE-S1-2.jpg', 'hp & suv shark-z02': 'https://threeatires.com/wp-content/uploads/2022/09/HP-SUV-SHARK-Z02.jpg', 'mud contender m/t': 'https://threeatires.com/wp-content/uploads/2022/09/MUD-CONTENDER.jpg', 'p906-re': 'https://threeatires.com/wp-content/uploads/2022/09/P906-RE.jpg', 's601': 'https://threeatires.com/wp-content/uploads/2022/03/S601.jpg', 's801(america)': 'https://threeatires.com/wp-content/uploads/2022/03/S801America.jpg', 's802(america)': 'https://threeatires.com/wp-content/uploads/2022/03/S802America.jpg', 'suv ecolander a/t': 'https://threeatires.com/wp-content/uploads/2022/03/SUV-ECOLANDER-AT.jpg', 'suv ecosaver': 'https://threeatires.com/wp-content/uploads/2022/03/SUV-ECOSAVER.jpg', 't116': 'https://threeatires.com/wp-content/uploads/2022/03/T116.jpg', 't118': 'https://threeatires.com/wp-content/uploads/2022/03/T118.jpg', 't156': 'https://threeatires.com/wp-content/uploads/2022/03/T156.jpg', 't176': 'https://threeatires.com/wp-content/uploads/2022/03/T176.jpg', 't178': 'https://threeatires.com/wp-content/uploads/2022/12/T178.jpg', 't186': 'https://threeatires.com/wp-content/uploads/2022/12/T186.jpg', 't188': 'https://threeatires.com/wp-content/uploads/2022/12/T188.jpg', 't258': 'https://threeatires.com/wp-content/uploads/2022/12/T258.jpg', 't268': 'https://threeatires.com/wp-content/uploads/2022/12/T268.jpg', 't276/t276+': 'https://threeatires.com/wp-content/uploads/2022/03/T276T276.jpg', 't278': 'https://threeatires.com/wp-content/uploads/2022/03/T278.jpg', 't286': 'https://threeatires.com/wp-content/uploads/2022/12/T286.jpg', 't288': 'https://threeatires.com/wp-content/uploads/2022/12/T288.jpg', 't298': 'https://threeatires.com/wp-content/uploads/2022/12/T298.jpg', 't801(america)': 'https://threeatires.com/wp-content/uploads/2022/03/T801America.jpg', 'three-a p306': 'https://threeatires.com/wp-content/uploads/2022/03/THREE-A-P306.jpg', 'three-a p606': 'https://threeatires.com/wp-content/uploads/2022/03/THREE-A-P606.jpg', 'three-a uhp p606 rft': 'https://threeatires.com/wp-content/uploads/2022/03/THREE-A-P606.jpg', 'tracvan': 'https://threeatires.com/wp-content/uploads/2022/03/TracVan.jpg', 'tuftrail at tyres': 'https://threeatires.com/wp-content/uploads/2022/09/TUFTRAIL-AT-.jpg', 'uhp eco809': 'https://threeatires.com/wp-content/uploads/2022/09/287C76F3-9448-721A-275C-3B835BC37309.jpg', 'uhp eco819': 'https://threeatires.com/wp-content/uploads/2022/03/UHP-ECO819.jpg', 'uhp ecowinged': 'https://threeatires.com/wp-content/uploads/2022/03/UHP-ECOWINGED.jpg', 'winter challenger': 'https://threeatires.com/wp-content/uploads/2022/09/WINTER-CHALLENGER.jpg', 'winter pro': 'https://threeatires.com/wp-content/uploads/2022/03/WINTER-PRO.jpg', 'z801(america)': 'https://threeatires.com/wp-content/uploads/2022/03/Z801America.jpg', 'z809': 'https://threeatires.com/wp-content/uploads/2022/12/Z809.jpg', 'yda-288': 'https://www.yeadatire.com/uploads/image/20230220/1676878694.webp', 'yda-226': 'https://www.yeadatire.com/uploads/image/20230220/1676881469.webp', 'yda-226a': 'https://www.yeadatire.com/uploads/image/20230220/1676881043.webp', 'yda866': 'https://www.yeadatire.com/uploads/image/20230220/1676874505.webp', 'yda-216': 'https://www.yeadatire.com/uploads/image/20230220/1676881652.webp', 'opteco s1': 'https://www.yeadatire.com/uploads/image/20230220/1676875232.webp', 'ecomax': 'https://www.yeadatire.com/uploads/image/20230220/1676876084.webp', 'yda-266': 'https://www.yeadatire.com/uploads/image/20230220/1676881073.webp', 'yda-266a': 'https://www.yeadatire.com/uploads/image/20230220/1676880117.webp', 'yda-286': 'https://www.yeadatire.com/uploads/image/20230220/1676884995.webp', 'mud curiser': 'https://www.yeadatire.com/uploads/image/20230220/1676871680.webp', 'yda-218': 'https://www.yeadatire.com/uploads/image/20230220/1676872402.webp', 'yda-296': 'https://www.yeadatire.com/uploads/image/20230220/1676864986.webp', 'ulti-chaser': 'https://www.yeadatire.com/uploads/image/20230220/1676883222.webp', 'mud cruiser': 'https://www.yeadatire.com/uploads/image/20230220/1676877221.webp', 'frd75': 'https://www.yeadatire.com/uploads/image/20230301/1677645693.webp', 'frd76': 'https://www.yeadatire.com/uploads/image/20230301/1677645302.webp', 'frd78': 'https://www.yeadatire.com/uploads/image/20230301/1677640464.webp', 'frd79': 'https://www.yeadatire.com/uploads/image/20230301/1677646985.webp', 'all climate ac-1': 'https://www.yeadatire.com/uploads/image/20230301/1677644423.webp', 'arctic stu99': 'https://www.yeadatire.com/uploads/image/20230302/1677732825.webp', 'by616': 'https://www.yeadatire.com/uploads/image/20230302/1677729040.webp', 'by996': 'https://www.yeadatire.com/uploads/image/20230302/1677727041.webp', 'bya682/bya682+': 'https://www.yeadatire.com/uploads/image/20230302/1677728659.webp', 'bys98': 'https://www.yeadatire.com/uploads/image/20230302/1677725845.webp', 'byd68': 'https://www.yeadatire.com/uploads/image/20230302/1677727099.webp', 'by805': 'https://www.yeadatire.com/uploads/image/20230302/1677731595.webp', 'byt691': 'https://www.yeadatire.com/uploads/image/20230302/1677737319.webp', 'bys695g': 'https://www.yeadatire.com/uploads/image/20230302/1677729131.webp', 'bya685w': 'https://www.yeadatire.com/uploads/image/20230302/1677749854.webp', 'by502l/by502': 'https://www.yeadatire.com/uploads/image/20230302/1677748618.webp', 'by905': 'https://www.yeadatire.com/uploads/image/20230302/1677744434.webp', 'al500': 'https://www.yeadatire.com/uploads/image/20230302/1677747705.webp', 'al97a': 'https://www.yeadatire.com/uploads/image/20230302/1677746378.webp', 'by912l': 'https://www.yeadatire.com/uploads/image/20230302/1677750143.webp', 'al98a': 'https://www.yeadatire.com/uploads/image/20230302/1677749221.webp', 'by705': 'https://www.yeadatire.com/uploads/image/20230302/1677753305.webp', 'al700': 'https://www.yeadatire.com/uploads/image/20230302/1677755299.webp', 'byd68+': 'https://www.yeadatire.com/uploads/image/20230302/1677752049.webp', 'bys98+': 'https://www.yeadatire.com/uploads/image/20230302/1677753584.webp', 'by518': 'https://www.yeadatire.com/uploads/image/20230302/1677750621.webp', 'by605': 'https://www.yeadatire.com/uploads/image/20230302/1677751162.webp', 'byd88': 'https://www.yeadatire.com/uploads/image/20230302/1677750837.webp', 'bs28/bs28l': 'https://www.yeadatire.com/uploads/image/20230303/1677814439.webp', 'al910': 'https://www.yeadatire.com/uploads/image/20230303/1677808299.webp', 'by35': 'https://www.yeadatire.com/uploads/image/20230303/1677807956.webp', 'by06/by06plus': 'https://www.yeadatire.com/uploads/image/20230303/1677813793.webp', 'bya658': 'https://www.yeadatire.com/uploads/image/20230303/1677811973.webp', 'by505/al505': 'https://www.yeadatire.com/uploads/image/20230303/1677815658.webp', 'by915': 'https://www.yeadatire.com/uploads/image/20230303/1677816038.webp', 'al969': 'https://www.yeadatire.com/uploads/image/20230303/1677816634.webp', 'by916': 'https://www.yeadatire.com/uploads/image/20230303/1677818687.webp', 'by907': 'https://www.yeadatire.com/uploads/image/20230303/1677818757.webp', 'by967/by967a': 'https://www.yeadatire.com/uploads/image/20230303/1677810931.webp', 'byd865': 'https://www.yeadatire.com/uploads/image/20230303/1677817901.webp', 'al808': 'https://www.yeadatire.com/uploads/image/20230303/1677816070.webp', 'gp606': 'https://www.yeadatire.com/uploads/image/20231122/1700638692.webp', 'r-4 gp601': 'https://www.yeadatire.com/uploads/image/20231122/1700647334.webp', 'l-5 gp608': 'https://www.yeadatire.com/uploads/image/20231122/1700640878.webp', 'gp3': 'https://www.yeadatire.com/uploads/image/20231122/1700645140.webp', 'r-4 gp688': 'https://www.yeadatire.com/uploads/image/20231122/1700645336.webp', 'e-4 gp988': 'https://www.yeadatire.com/uploads/image/20231122/1700641574.webp', 'gp236': 'https://www.yeadatire.com/uploads/image/20231122/1700642004.webp', 'gp816': 'https://www.yeadatire.com/uploads/image/20231122/1700643764.webp', 'gp818': 'https://www.yeadatire.com/uploads/image/20231122/1700641097.webp', 'gp810': 'https://www.yeadatire.com/uploads/image/20231122/1700647295.webp', 'r-4 gp701': 'https://www.yeadatire.com/uploads/image/20231122/1700639653.png', 'gp702': 'https://www.yeadatire.com/uploads/image/20231122/1700649233.webp', 'gp-3s': 'https://www.yeadatire.com/uploads/image/20231122/1700641991.webp', 'gp-4s/5s': 'https://www.yeadatire.com/uploads/image/20231122/1700645394.webp', 'gp901': 'https://www.yeadatire.com/uploads/image/20231122/1700648789.webp', 'gp108a': 'https://www.yeadatire.com/uploads/image/20231122/1700646205.webp', 'gp108ae': 'https://www.yeadatire.com/uploads/image/20231122/1700647406.webp', 'gp108aew': 'https://www.yeadatire.com/uploads/image/20231122/1700646560.webp', 'gp108b': 'https://www.yeadatire.com/uploads/image/20231122/1700642011.webp', 'gp108c': 'https://www.yeadatire.com/uploads/image/20231122/1700650301.webp', 'gp108ce': 'https://www.yeadatire.com/uploads/image/20231122/1700641428.webp', 'gp108cew': 'https://www.yeadatire.com/uploads/image/20231122/1700641875.webp', 'gp108d': 'https://www.yeadatire.com/uploads/image/20231122/1700648782.webp', 'gp108e': 'https://www.yeadatire.com/uploads/image/20231122/1700642054.webp', 'gp108f': 'https://www.yeadatire.com/uploads/image/20231122/1700646107.webp', 'gp108g': 'https://www.yeadatire.com/uploads/image/20231122/1700646978.webp', 'gp108h': 'https://www.yeadatire.com/uploads/image/20231122/1700642107.webp', 'gp109': 'https://www.yeadatire.com/uploads/image/20231122/1700650850.webp', 'gp164': 'https://www.yeadatire.com/uploads/image/20231122/1700645829.webp', 'gp165': 'https://www.yeadatire.com/uploads/image/20231122/1700651337.webp', 'gp166': 'https://www.yeadatire.com/uploads/image/20231122/1700649639.webp', 'gp167': 'https://www.yeadatire.com/uploads/image/20231122/1700643108.webp', 'gp168': 'https://www.yeadatire.com/uploads/image/20231122/1700642204.webp', 'gp168ww': 'https://www.yeadatire.com/uploads/image/20231122/1700645326.webp', 'gp169': 'https://www.yeadatire.com/uploads/image/20231122/1700647111.webp', 'gp176': 'https://www.yeadatire.com/uploads/image/20231122/1700645097.webp', 'gp177': 'https://www.yeadatire.com/uploads/image/20231122/1700649599.webp', 'gp178': 'https://www.yeadatire.com/uploads/image/20231122/1700647869.webp', 'gp179': 'https://www.yeadatire.com/uploads/image/20231122/1700647464.webp', 'gp180/181': 'https://www.yeadatire.com/uploads/image/20231122/1700647129.webp', 'gp1000': 'https://www.yeadatire.com/uploads/image/20231122/1700646031.webp', 'gp108/e3/l3': 'https://www.yeadatire.com/uploads/image/20231122/1700650272.webp', 'e3/l3': 'https://www.yeadatire.com/uploads/image/20231122/1700651094.webp', 'gp908': 'https://www.yeadatire.com/uploads/image/20231122/1700651074.webp', 'ra710': 'https://colewood-automotive.s3-eu-west-1.amazonaws.com/Images/Colewood/Roadcruza/ra710.jpg', 'ra350': 'https://colewood-automotive.s3-eu-west-1.amazonaws.com/Images/Colewood/Roadcruza/ra350.jpg', 'ra510': 'https://colewood-automotive.s3-eu-west-1.amazonaws.com/Images/Colewood/Roadcruza/ra510.jfif', 'sports vi': 'https://colewood-automotive.s3-eu-west-1.amazonaws.com/Images/Colewood/Roadcruza/sports-vi.jpg', 'cf710': 'https://colewood-automotive.s3-eu-west-1.amazonaws.com/Images/CF710.PNG', 'cf1100': 'https://colewood-automotive.s3-eu-west-1.amazonaws.com/Images/Colewood/Comforser/cf1100.jpg', 'cf510': 'https://colewood-automotive.s3-eu-west-1.amazonaws.com/Images/CF510.PNG', 'cf700': 'https://colewood-automotive.s3-eu-west-1.amazonaws.com/Images/CF700.jpg', 'cf600': 'https://colewood-automotive.s3-eu-west-1.amazonaws.com/Images/CF600.jpg', 'cf610': 'https://colewood-automotive.s3-eu-west-1.amazonaws.com/Images/Colewood/Comforser/cf610.jpg', 'sports-k4': 'https://colewood-automotive.s3-eu-west-1.amazonaws.com/Images/Colewood/Comforser/sports-k4.png', 'cf350': 'https://colewood-automotive.s3-eu-west-1.amazonaws.com/Images/Colewood/Comforser/cf350.jpg', 'cf300': 'https://colewood-automotive.s3-eu-west-1.amazonaws.com/Images/CF300.png', 'cf2000': 'https://colewood-automotive.s3-eu-west-1.amazonaws.com/Images/CF2000.jpg', 'ef1500': 'https://colewood-automotive.s3-eu-west-1.amazonaws.com/Images/Colewood/Comforser/ef1500.jpg','ns602': 'http://www.ditriptyre.com/upload/2019031559679621.jpg', 'ns393': 'http://www.ditriptyre.com/upload/2019031559101089.jpg', 'ns319': 'http://www.ditriptyre.com/upload/2019031559393449.jpg', 'ns318': 'http://www.ditriptyre.com/upload/2019031558919217.jpg', 'ns601': 'http://www.ditriptyre.com/upload/2019031558648105.jpg', 'ns316': 'http://www.ditriptyre.com/upload/2019031558463497.jpg', 'all terrain  nx5': 'http://www.ditriptyre.com/upload/2021071550293553.jpg', 'ns523': 'http://www.ditriptyre.com/upload/2019031562808529.jpg', 'ns501': 'http://www.ditriptyre.com/upload/2019031559974249.jpg', 'ns515': 'http://www.ditriptyre.com/upload/2019031561603293.jpg', 'dyntrac': 'http://www.ditriptyre.com/upload/2019031562398293.jpg', 'ns916': 'http://www.ditriptyre.com/upload/2019031855453153.jpg', 'ns913': 'http://www.ditriptyre.com/upload/2019031563254529.jpg', 'ns808': 'http://www.ditriptyre.com/upload/2023101138191293.jpg', 'ns809': 'http://www.ditriptyre.com/upload/2021030449762993.jpg', 'mk677': 'http://www.ditriptyre.com/upload/2019051361753809.jpg', 'ns805': 'http://www.ditriptyre.com/upload/2019031563599249.jpg', 'ns806': 'http://www.ditriptyre.com/upload/2019031564180793.jpg', 'sclaw-4s': 'http://www.ditriptyre.com/upload/2019031564382749.jpg', 'ntr726': 'http://www.ditriptyre.com/upload/2020060441956961.JPG', 'ntr725': 'http://www.ditriptyre.com/upload/2020061738781085.jpg', 'ndr728': 'http://www.ditriptyre.com/upload/2020061738703477.JPG', 'ndr718': 'http://www.ditriptyre.com/upload/2020061738642041.jpg', 'ndr707': 'http://www.ditriptyre.com/upload/2020061738567821.jpg', 'ndl708': 'http://www.ditriptyre.com/upload/2020061738489713.jpg', 'nsl706': 'http://www.ditriptyre.com/upload/2020062336464133.JPG', 'nam703': 'http://www.ditriptyre.com/upload/2020061737782321.jpg', 'nam701': 'http://www.ditriptyre.com/upload/2020061737694009.jpg', 'e3/l3': 'http://www.ditriptyre.com/upload/2021030833330709.jpg'}

"""
for filename in arr:
    name = filename.replace("-","_").replace(" ","_").replace('/', u"\u2215")
    name = name+"."+arr[filename].split("/")[-1].split('.')[-1]
    response = requests.get(arr[filename], stream=True)
    with open('timages/'+name, 'wb') as handle:
        handle.write(response.content)

"""
os.system('cls')
dir_list = os.listdir('C:/Users/admin/Desktop/New Auto Space/timages')

url = 'http://178.134.130.105:8086/'
def auth():
    data = {'login': 'NewAutoTires','password':'Hgft^53g)'}
    header = {"Content-Type": "application/json"}
    x = requests.post(url+'api/authentication/authenticate', data=json.dumps(data), headers=header)
    x = json.loads(x.content)
    if 'ex' in x:
        return x['token']
    else:
        return "Error"
    
def geproduct(token,date):
    header = {"Content-Type": "application/json","Authorization":"Bearer "+token}
    x = requests.get(url+'api/operation/getProductsAfter/'+date, headers=header)
    x = json.loads(x.content)
    return x['products']
count = 0
for a in geproduct(auth(),'2022-06-2T10:37:34'):
    if a['group_id'] == 11:
        for files in dir_list:
            name = str(a['name']).split()
            for namesplited in name:
                if files.split(".")[0].lower() == str(namesplited).lower().replace(" ","_").replace("/","_").replace("-","_"):
                    print("UPDATE `products` SET `image` = '/assets/timages/"+files+"' WHERE `product_id` = '"+str(a['id'])+"';")
                    count += 1
print(count)